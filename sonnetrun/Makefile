OBJ_SONNETPATCH=sonnetpatch.o
SONNETPATCH_EXE=sonnetpatch
SONNETPATCH_EXE_RS=$(SONNETPATCH_EXE).rs
CCPARAM=$(POSIXLIB_CCPARAM)
LDPARAM=$(POSIXLIB_LDPARAM) -lamiga

ASMPPCPARAM+=-I../sonnetlib
INCLUDES=queue.h

all: $(SONNETPATCH_EXE) 

disasm68k : $(SONNETPATCH_EXE_RS) 

$(SONNETPATCH_EXE) : $(OBJ_SONNETPATCH)
	$(CC) $(LDPARAM) $(OBJ_SONNETPATCH) -o $(SONNETPATCH_EXE)

%.o : %.p $(INCLUDES)
	$(ASMPPC) $(ASMPPCPARAM) -o $@ $< 

%.o : %.s $(INCLUDES)
	$(ASM68K) $(ASM68KPARAM) -o $@ $<

%.o : %.c $(INCLUDES)
	echo $(CCPARAM)
	$(CC) $(CCPARAM) -c $< -o $@ 

%.rs : %
	$(IRA) $(IRAPARAM) $< $@

clean :
	$(RM) $(OBJ_SONNETPATCH) $(SONNETPATCH_EXE) $(SONNETPATCH_EXE_RS) 

